<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Bluemix &nbsp;&nbsp;&nbsp;app (js)</title>
<style type="text/css">
    li { list-style: none;  margin: 0; }
    p { margin: 0; }
    span.foldopened { color: white; font-size: xx-small;
    border-width: 1; font-family: monospace; padding: 0em 0.25em 0em 0.25em; background: #e0e0e0;
    VISIBILITY: visible;
    cursor:pointer; }


    span.foldclosed { color: #666666; font-size: xx-small;
    border-width: 1; font-family: monospace; padding: 0em 0.25em 0em 0.25em; background: #e0e0e0;
    VISIBILITY: hidden;
    cursor:pointer; }

    span.foldspecial { color: #666666; font-size: xx-small; border-style: none solid solid none;
    border-color: #CCCCCC; border-width: 1; font-family: sans-serif; padding: 0em 0.1em 0em 0.1em; background: #e0e0e0;
    cursor:pointer; }

    span.l { color: red; font-weight: bold; }

    a.mapnode:link {text-decoration: none; color: black; }
    a.mapnode:visited {text-decoration: none; color: black; }
    a.mapnode:active {text-decoration: none; color: black; }
    a.mapnode:hover {text-decoration: none; color: black; background: #eeeee0; }

</style>
<!-- ^ Position is not set to relative / absolute here because of Mozilla -->
</head>
<body>

<script type="text/javascript">
   // Here we implement folding. It works fine with MSIE5.5, MSIE6.0 and
   // Mozilla 0.9.6.

   if (document.layers) {
      //Netscape 4 specific code
      pre = 'document.';
      post = ''; }
   if (document.getElementById) {
      //Netscape 6 specific code
      pre = 'document.getElementById("';
      post = '").style'; }
   if (document.all) {
      //IE4+ specific code
      pre = 'document.all.';
      post = '.style'; }

function layer_exists(layer) {
   try {
      eval(pre + layer + post);
      return true; }
   catch (error) {
      return false; }}

function show_layer(layer) {
   eval(pre + layer + post).position = 'relative'; 
   eval(pre + layer + post).visibility = 'visible'; }

function hide_layer(layer) {
   eval(pre + layer + post).visibility = 'hidden';
   eval(pre + layer + post).position = 'absolute'; }

function hide_folder(folder) {
    hide_folding_layer(folder)
    show_layer('show'+folder);

    scrollBy(0,0); // This is a work around to make it work in Browsers (Explorer, Mozilla)
}

function show_folder(folder) {
    // Precondition: all subfolders are folded

    show_layer('hide'+folder);
    hide_layer('show'+folder);
    show_layer('fold'+folder);

    scrollBy(0,0); // This is a work around to make it work in Browsers (Explorer, Mozilla)

    var i;
    for (i=1; layer_exists('fold'+folder+'_'+i); ++i) {
       show_layer('show'+folder+'_'+i); }
}
function show_folder_completely(folder) {
    // Precondition: all subfolders are folded

    show_layer('hide'+folder);
    hide_layer('show'+folder);
    show_layer('fold'+folder);

    scrollBy(0,0); // This is a work around to make it work in Browsers (Explorer, Mozilla)

    var i;
    for (i=1; layer_exists('fold'+folder+'_'+i); ++i) {
       show_folder_completely(folder+'_'+i); }
}



function hide_folding_layer(folder) {
   var i;
   for (i=1; layer_exists('fold'+folder+'_'+i); ++i) {
       hide_folding_layer(folder+'_'+i); }

   hide_layer('hide'+folder);
   hide_layer('show'+folder);
   hide_layer('fold'+folder);

   scrollBy(0,0); // This is a work around to make it work in Browsers (Explorer, Mozilla)
}

function fold_document() {
   var i;
   var folder = '1';
   for (i=1; layer_exists('fold'+folder+'_'+i); ++i) {
       hide_folder(folder+'_'+i); }
}

function unfold_document() {
   var i;
   var folder = '1';
   for (i=1; layer_exists('fold'+folder+'_'+i); ++i) {
       show_folder_completely(folder+'_'+i); }
}

</script>
<SPAN class="foldspecial" onclick="fold_document()">All +</SPAN>
<SPAN class="foldspecial" onclick="unfold_document()">All -</SPAN>
&#xa;    <p>&#xa;      Bluemix&#xa;    </p>&#xa;    <p>&#xa;      app (js)&#xa;    </p>&#xa;  
<ul><li><p>'use strict';
<p><span id="show1_1" class="foldclosed" onClick="show_folder('1_1')" style="POSITION: absolute">+</span> <span id="hide1_1" class="foldopened" onClick="hide_folder('1_1')">-</span>
VAR
<ul id="fold1_1" style="POSITION: relative; VISIBILITY: visible;"><li>&#xa;    <p>&#xa;      var bodyParser = require('body-parser')&#xa;    </p>&#xa;  
<p>Express
<ul><li>&#xa;    <p>&#xa;      var express = require('express')&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      <b>Express</b>&#xa;    </p>&#xa;    <p>&#xa;      <font color="#0000ff">Node.js web application framework</font>&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      is a minimal and flexible&#xa;    </p>&#xa;  
&#xa;    <p>&#xa;      provides a robust set of features for web and mobile applications&#xa;    </p>&#xa;  
<p>provides a thin layer of fundamental web application features
&#xa;    <p>&#xa;      without obscuring Node.js features that you know and love&#xa;    </p>&#xa;  
</li>
</ul></li>
</ul>&#xa;    <p>&#xa;      var app = express()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      Object representing an <b>EXPRESS</b>&#160;application&#xa;    </p>&#xa;  
</li>
</ul>&#xa;    <p>&#xa;      app.use()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      express.static()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      __dirname + '/public'&#xa;    </p>&#xa;  
</li>
</ul>
</li>

</ul>&#xa;    <p>&#xa;      app.use()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      bodyParser.json()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      // for parsing application/json&#xa;    </p>&#xa;  
</li>
</ul>
</li>

</ul></li>
</ul>&#xa;    <p>&#xa;      var https = require('https')&#xa;    </p>&#xa;  
&#xa;    <p>&#xa;      var cfenv = require('cfenv')&#xa;    </p>&#xa;  
&#xa;    <p>&#xa;      var appEnv = cfenv.getAppEnv()&#xa;    </p>&#xa;  
&#xa;    <p>&#xa;      process.env.NODE_TLS_REJECT_UNAUTHORIZED = &quot;0&quot;&#xa;    </p>&#xa;  
&#xa;    <p>&#xa;      var config = null&#xa;    </p>&#xa;  
&#xa;    <p>&#xa;      var credentials = null&#xa;    </p>&#xa;  
</li>
</ul><span id="show1_2" class="foldclosed" onClick="show_folder('1_2')" style="POSITION: absolute">+</span> <span id="hide1_2" class="foldopened" onClick="hide_folder('1_2')">-</span>
&#xa;    <p>&#xa;      if ()&#xa;    </p>&#xa;  
<ul id="fold1_2" style="POSITION: relative; VISIBILITY: visible;"><li>&#xa;    <p>&#xa;      process.env.VCAP_SERVICES&#xa;    </p>&#xa;  
<p><span id="show1_2_1" class="foldclosed" onClick="show_folder('1_2_1')" style="POSITION: absolute">+</span> <span id="hide1_2_1" class="foldopened" onClick="hide_folder('1_2_1')">-</span>
{ }
<ul id="fold1_2_1" style="POSITION: relative; VISIBILITY: visible;"><li>&#xa;    <p>&#xa;      config = JSON.parse()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      process.env.VCAP_SERVICES&#xa;    </p>&#xa;  
</li>
</ul><p>var iotService = config['iotf-service'];
&#xa;    <p>&#xa;      for ()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      var index in iotService&#xa;    </p>&#xa;  
<p>{ }
<ul><li>&#xa;    <p>&#xa;      if ()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      iotService[index].name === 'discover-iot-try-service'&#xa;    </p>&#xa;  
<p>{ }
<ul><li>&#xa;    <p>&#xa;      credentials = iotService[index].credentials&#xa;    </p>&#xa;  
</li>
</ul></li>
</ul>
</li>

</ul></li>
</ul></li>
</ul><p>else { }
<ul><li>&#xa;    <p>&#xa;      console.log()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      &quot;ERROR: IoT Service was not bound!&quot;&#xa;    </p>&#xa;  
</li>
</ul>
</li>

</ul></li>
</ul><span id="show1_3" class="foldclosed" onClick="show_folder('1_3')" style="POSITION: absolute">+</span> <span id="hide1_3" class="foldopened" onClick="hide_folder('1_3')">-</span>
&#xa;    <p>&#xa;      var basicConfig = { }&#xa;    </p>&#xa;  
<ul id="fold1_3" style="POSITION: relative; VISIBILITY: visible;"><li>org: credentials.org,

</li>
<li>apiKey: credentials.apiKey,

</li>
<li>apiToken: credentials.apiToken

</li>

</ul><span id="show1_4" class="foldclosed" onClick="show_folder('1_4')" style="POSITION: absolute">+</span> <span id="hide1_4" class="foldopened" onClick="hide_folder('1_4')">-</span>
&#xa;    <p>&#xa;      var options = { }&#xa;    </p>&#xa;  
<ul id="fold1_4" style="POSITION: relative; VISIBILITY: visible;"><li>host: 'internetofthings.ibmcloud.com'

</li>
<li>port: 443

</li>
<li>&#xa;    <p>&#xa;      headers: { }&#xa;    </p>&#xa;  
<ul><li>'Content-Type': 'application/json'

</li>

</ul>
</li>
<li>auth: basicConfig.apiKey + ':' + basicConfig.apiToken

</li>

</ul><span id="show1_5" class="foldclosed" onClick="show_folder('1_5')" style="POSITION: absolute">+</span> <span id="hide1_5" class="foldopened" onClick="hide_folder('1_5')">-</span>
&#xa;    <p>&#xa;      app.get( )&#xa;    </p>&#xa;  
<ul id="fold1_5" style="POSITION: relative; VISIBILITY: visible;"><li>&#xa;    <p>&#xa;      '/credentials',&#xa;    </p>&#xa;  

</li>
<li><span style="font-family: SansSerif, sans-serif; font-weight: bold; ">&#xa;    <p>&#xa;      function&#xa;    </p>&#xa;  </span>
<ul><li>&#xa;    <p>&#xa;      (req, res)&#xa;    </p>&#xa;  

</li>
<li><span id="show1_5_1" class="foldclosed" onClick="show_folder('1_5_1')" style="POSITION: absolute">+</span> <span id="hide1_5_1" class="foldopened" onClick="hide_folder('1_5_1')">-</span>
&#xa;    <p>&#xa;      { }&#xa;    </p>&#xa;  
<ul id="fold1_5_1" style="POSITION: relative; VISIBILITY: visible;"><li>&#xa;    <p>&#xa;      res.json()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      basicConfig&#xa;    </p>&#xa;  

</li>

</ul>
</li>

</ul>
</li>

</ul>
</li>

</ul><span id="show1_6" class="foldclosed" onClick="show_folder('1_6')" style="POSITION: absolute">+</span> <span id="hide1_6" class="foldopened" onClick="hide_folder('1_6')">-</span>
&#xa;    <p>&#xa;      app.get()&#xa;    </p>&#xa;  
<ul id="fold1_6" style="POSITION: relative; VISIBILITY: visible;"><li>&#xa;    <p>&#xa;      '/iotServiceLink'&#xa;    </p>&#xa;  

</li>
<li><span style="font-family: SansSerif, sans-serif; font-weight: bold; ">&#xa;    <p>&#xa;      function&#xa;    </p>&#xa;  </span>
<ul><li>&#xa;    <p>&#xa;      (req, res)&#xa;    </p>&#xa;  

</li>
<li>&#xa;    <p>&#xa;      { }&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      var options = { }&#xa;    </p>&#xa;  
<ul><li>host: basicConfig.org + '.internetofthings.ibmcloud.com',

</li>
<li>port: 443,

</li>
<li>&#xa;    <p>&#xa;      headers: { }&#xa;    </p>&#xa;  
<ul><li>'Content-Type': 'application/json'

</li>

</ul>
</li>
<li>auth: basicConfig.apiKey + ':' + basicConfig.apiToken,

</li>
<li>method: 'GET',

</li>
<li>path: 'api/v0002/'

</li>

</ul>&#xa;    <p>&#xa;      var org_req = https.request()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      options&#xa;    </p>&#xa;  

</li>
<li><span style="font-family: SansSerif, sans-serif; font-weight: bold; ">&#xa;    <p>&#xa;      function&#xa;    </p>&#xa;  </span>
<ul><li>&#xa;    <p>&#xa;      (org_res)&#xa;    </p>&#xa;  

</li>
<li>&#xa;    <p>&#xa;      { }&#xa;    </p>&#xa;  
<ul><li>var str = ''

</li>
<li>&#xa;    <p>&#xa;      org_res.on()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      'data'&#xa;    </p>&#xa;  

</li>
<li><span style="font-family: SansSerif, sans-serif; font-weight: bold; ">&#xa;    <p>&#xa;      function&#xa;    </p>&#xa;  </span>
<ul><li>&#xa;    <p>&#xa;      (chunk)&#xa;    </p>&#xa;  

</li>
<li>&#xa;    <p>&#xa;      { }&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      str += chunk&#xa;    </p>&#xa;  

</li>

</ul>
</li>

</ul>
</li>

</ul>
</li>
<li>&#xa;    <p>&#xa;      org_res.on()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      'end'&#xa;    </p>&#xa;  

</li>
<li><span style="font-family: SansSerif, sans-serif; font-weight: bold; ">&#xa;    <p>&#xa;      function&#xa;    </p>&#xa;  </span>
<ul><li>&#xa;    <p>&#xa;      { }&#xa;    </p>&#xa;  
<ul><li>try { }
<ul><li><p>var org = JSON.parse(str)
<p>var url = "https://console.ng.bluemix.net/#/resources/serviceGuid=" + org.bluemix.serviceInstanceGuid + "&amp;orgGuid=" + org.bluemix.organizationGuid + "&amp;spaceGuid=" + org.bluemix.spaceGuid;
&#xa;    <p>&#xa;      res.json()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      { url: url }&#xa;    </p>&#xa;  

</li>

</ul></li>
</ul>
</li>
<li>&#xa;    <p>&#xa;      catch (e) { }&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      console.log()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      &quot;Something went wrong...&quot;&#xa;    </p>&#xa;  
&#xa;    <p>&#xa;      str&#xa;    </p>&#xa;  
</li>
</ul>
</li>
<li>&#xa;    <p>&#xa;      res.send(500)&#xa;    </p>&#xa;  

</li>

</ul>
</li>
<li>&#xa;    <p>&#xa;      console.log()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      &quot;iotServiceLink end: &quot;&#xa;    </p>&#xa;  
&#xa;    <p>&#xa;      str.toString()&#xa;    </p>&#xa;  
</li>
</ul>
</li>

</ul>
</li>

</ul>
</li>

</ul>
</li>

</ul>
</li>

</ul>
</li>
<li>&#xa;    <p>&#xa;      .on()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      'error'&#xa;    </p>&#xa;  

</li>
<li><span style="font-family: SansSerif, sans-serif; font-weight: bold; ">&#xa;    <p>&#xa;      function&#xa;    </p>&#xa;  </span>
<ul><li>&#xa;    <p>&#xa;      (e)&#xa;    </p>&#xa;  

</li>
<li>&#xa;    <p>&#xa;      { }&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      console.log()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      &quot;ERROR&quot;&#xa;    </p>&#xa;  

</li>
<li>&#xa;    <p>&#xa;      e&#xa;    </p>&#xa;  

</li>

</ul>
</li>

</ul>
</li>

</ul>
</li>

</ul>
</li>

</ul><p>org_req.end()
</li>
</ul>
</li>

</ul>
</li>

</ul><span id="show1_7" class="foldclosed" onClick="show_folder('1_7')" style="POSITION: absolute">+</span> <span id="hide1_7" class="foldopened" onClick="hide_folder('1_7')">-</span>
&#xa;    <p>&#xa;      app.post()&#xa;    </p>&#xa;  
<ul id="fold1_7" style="POSITION: relative; VISIBILITY: visible;"><li>&#xa;    <p>&#xa;      '/registerDevice'&#xa;    </p>&#xa;  

</li>
<li><span style="font-family: SansSerif, sans-serif; font-weight: bold; ">&#xa;    <p>&#xa;      function&#xa;    </p>&#xa;  </span>
<ul><li>&#xa;    <p>&#xa;      (req, res)&#xa;    </p>&#xa;  

</li>
<li>&#xa;    <p>&#xa;      { }&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      console.log()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      req.body&#xa;    </p>&#xa;  

</li>

</ul><p>var deviceId = null, typeId = "iot-phone", password = null;
&#xa;    <p>&#xa;      if ()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      req.body.deviceId&#xa;    </p>&#xa;  

</li>
<li>&#xa;    <p>&#xa;      { }&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      deviceId = req.body.deviceId&#xa;    </p>&#xa;  
</li>
</ul>
</li>

</ul>&#xa;    <p>&#xa;      if ()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      req.body.typeId&#xa;    </p>&#xa;  

</li>
<li>&#xa;    <p>&#xa;      { }&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      typeId = req.body.typeId&#xa;    </p>&#xa;  
</li>
</ul>
</li>

</ul>&#xa;    <p>&#xa;      if ()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      req.body.password&#xa;    </p>&#xa;  

</li>
<li>&#xa;    <p>&#xa;      {}&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      password = req.body.password&#xa;    </p>&#xa;  
</li>
</ul>
</li>

</ul><span id="show1_7_1" class="foldclosed" onClick="show_folder('1_7_1')" style="POSITION: absolute">+</span> <span id="hide1_7_1" class="foldopened" onClick="hide_folder('1_7_1')">-</span>
&#xa;    <p>&#xa;      var options = { }&#xa;    </p>&#xa;  
<ul id="fold1_7_1" style="POSITION: relative; VISIBILITY: visible;"><li>host: basicConfig.org + '.internetofthings.ibmcloud.com',

</li>
<li>port: 443,

</li>
<li>&#xa;    <p>&#xa;      headers: { }&#xa;    </p>&#xa;  
<ul><li>'Content-Type': 'application/json'

</li>

</ul>
</li>
<li>auth: basicConfig.apiKey + ':' + basicConfig.apiToken,

</li>
<li>method: 'POST',

</li>
<li>path: 'api/v0002/device/types'

</li>

</ul><p>var deviceTypeDetails = { }
<ul><li>id: typeId

</li>

</ul>&#xa;    <p>&#xa;      console.log()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      deviceTypeDetails&#xa;    </p>&#xa;  

</li>

</ul>&#xa;    <p>&#xa;      var type_req = https&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      .request()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      options&#xa;    </p>&#xa;  

</li>
<li>&#xa;    <p>&#xa;      function()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      type_res&#xa;    </p>&#xa;  

</li>
<li>&#xa;    <p>&#xa;      { }&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      var str = ''&#xa;    </p>&#xa;  

</li>
<li>&#xa;    <p>&#xa;      type_res&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      .on()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      'data'&#xa;    </p>&#xa;  

</li>
<li>&#xa;    <p>&#xa;      function()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      chunk&#xa;    </p>&#xa;  

</li>
<li>&#xa;    <p>&#xa;      { }&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      str += chunk&#xa;    </p>&#xa;  

</li>

</ul>
</li>

</ul>
</li>

</ul>
</li>

</ul>
</li>
<li>&#xa;    <p>&#xa;      type_res.on()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      'end'&#xa;    </p>&#xa;  

</li>
<li><span id="show1_7_2" class="foldclosed" onClick="show_folder('1_7_2')" style="POSITION: absolute">+</span> <span id="hide1_7_2" class="foldopened" onClick="hide_folder('1_7_2')">-</span>
&#xa;    <p>&#xa;      function()&#xa;    </p>&#xa;  
<ul id="fold1_7_2" style="POSITION: relative; VISIBILITY: visible;"><li>&#xa;    <p>&#xa;      { }&#xa;    </p>&#xa;  
<ul><li><span id="show1_7_2_1" class="foldclosed" onClick="show_folder('1_7_2_1')" style="POSITION: absolute">+</span> <span id="hide1_7_2_1" class="foldopened" onClick="hide_folder('1_7_2_1')">-</span>
&#xa;    <p>&#xa;      console.log()&#xa;    </p>&#xa;  
<ul id="fold1_7_2_1" style="POSITION: relative; VISIBILITY: visible;"><li>&#xa;    <p>&#xa;      &quot;createDeviceType end: &quot;&#xa;    </p>&#xa;  
&#xa;    <p>&#xa;      str.toString()&#xa;    </p>&#xa;  
</li>
</ul><p><span id="show1_7_2_2" class="foldclosed" onClick="show_folder('1_7_2_2')" style="POSITION: absolute">+</span> <span id="hide1_7_2_2" class="foldopened" onClick="hide_folder('1_7_2_2')">-</span>
var dev_options = { }
<ul id="fold1_7_2_2" style="POSITION: relative; VISIBILITY: visible;"><li>host: basicConfig.org + '.internetofthings.ibmcloud.com',

</li>
<li>port: 443,

</li>
<li>headers: { }
<ul><li>'Content-Type': 'application/json'

</li>

</ul>
</li>
<li>auth: basicConfig.apiKey + ':' + basicConfig.apiToken,

</li>
<li>method: 'POST',

</li>
<li>path: 'api/v0002/device/types/'+typeId+'/devices'

</li>

</ul><p><span id="show1_7_2_3" class="foldclosed" onClick="show_folder('1_7_2_3')" style="POSITION: absolute">+</span> <span id="hide1_7_2_3" class="foldopened" onClick="hide_folder('1_7_2_3')">-</span>
var deviceDetails = { }
<ul id="fold1_7_2_3" style="POSITION: relative; VISIBILITY: visible;"><li>deviceId: deviceId,

</li>
<li>authToken: password

</li>

</ul><span id="show1_7_2_4" class="foldclosed" onClick="show_folder('1_7_2_4')" style="POSITION: absolute">+</span> <span id="hide1_7_2_4" class="foldopened" onClick="hide_folder('1_7_2_4')">-</span>
&#xa;    <p>&#xa;      console.log()&#xa;    </p>&#xa;  
<ul id="fold1_7_2_4" style="POSITION: relative; VISIBILITY: visible;"><li>&#xa;    <p>&#xa;      deviceDetails&#xa;    </p>&#xa;  

</li>

</ul>&#xa;    <p>&#xa;      var dev_req = https.request()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      dev_options&#xa;    </p>&#xa;  

</li>
<li>&#xa;    <p>&#xa;      function()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      dev_res&#xa;    </p>&#xa;  

</li>
<li>&#xa;    <p>&#xa;      { }&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      var str = ''&#xa;    </p>&#xa;  

</li>
<li>&#xa;    <p>&#xa;      dev_res.on()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      'data'&#xa;    </p>&#xa;  

</li>
<li>&#xa;    <p>&#xa;      function()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      chunk&#xa;    </p>&#xa;  

</li>
<li>&#xa;    <p>&#xa;      { }&#xa;    </p>&#xa;  
<ul><li>str += chunk;

</li>

</ul>
</li>

</ul>
</li>

</ul>
</li>
<li>&#xa;    <p>&#xa;      dev_res.on()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      'end'&#xa;    </p>&#xa;  

</li>
<li>&#xa;    <p>&#xa;      function()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      { }&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      console.log()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      &quot;createDevice end: &quot;&#xa;    </p>&#xa;  
&#xa;    <p>&#xa;      str.toString()&#xa;    </p>&#xa;  
</li>
</ul>
</li>
<li>&#xa;    <p>&#xa;      res.send()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      { }&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      result: &quot;Success!&quot;&#xa;    </p>&#xa;  
</li>
</ul>
</li>

</ul>
</li>

</ul>
</li>

</ul>
</li>

</ul>
</li>

</ul>
</li>

</ul>
</li>
<li>&#xa;    <p>&#xa;      .on()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      'error'&#xa;    </p>&#xa;  

</li>
<li>&#xa;    <p>&#xa;      function()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      e&#xa;    </p>&#xa;  

</li>
<li>{ }
<ul><li>&#xa;    <p>&#xa;      console.log()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      &quot;ERROR&quot;&#xa;    </p>&#xa;  

</li>
<li>&#xa;    <p>&#xa;      e&#xa;    </p>&#xa;  

</li>

</ul>
</li>

</ul>
</li>

</ul>
</li>

</ul>
</li>

</ul>&#xa;    <p>&#xa;      dev_req.write()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      JSON.stringify()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      deviceDetails&#xa;    </p>&#xa;  

</li>

</ul>
</li>

</ul>&#xa;    <p>&#xa;      dev_req.end()&#xa;    </p>&#xa;  
</li>
</ul>
</li>

</ul>
</li>

</ul>
</li>

</ul>
</li>

</ul>
</li>
<li>&#xa;    <p>&#xa;      .on()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      'error'&#xa;    </p>&#xa;  

</li>
<li>&#xa;    <p>&#xa;      function()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      e&#xa;    </p>&#xa;  

</li>
<li>{ }
<ul><li>&#xa;    <p>&#xa;      console.log()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      &quot;ERROR&quot;&#xa;    </p>&#xa;  

</li>
<li>&#xa;    <p>&#xa;      e&#xa;    </p>&#xa;  

</li>

</ul>
</li>

</ul>
</li>

</ul>
</li>

</ul>
</li>

</ul>
</li>

</ul>&#xa;    <p>&#xa;      type_req.write()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      JSON.stringify()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      deviceTypeDetails&#xa;    </p>&#xa;  

</li>

</ul>
</li>

</ul><p>type_req.end()
</li>
</ul>
</li>

</ul>
</li>

</ul><span id="show1_8" class="foldclosed" onClick="show_folder('1_8')" style="POSITION: absolute">+</span> <span id="hide1_8" class="foldopened" onClick="hide_folder('1_8')">-</span>
&#xa;    <p>&#xa;      app.listen()&#xa;    </p>&#xa;  
<ul id="fold1_8" style="POSITION: relative; VISIBILITY: visible;"><li>&#xa;    <p>&#xa;      appEnv.port&#xa;    </p>&#xa;  

</li>
<li>&#xa;    <p>&#xa;      function()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      { }&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      console.log()&#xa;    </p>&#xa;  
<ul><li>&#xa;    <p>&#xa;      &quot;server starting on &quot; + appEnv.url&#xa;    </p>&#xa;  
</li>
</ul>
</li>

</ul>
</li>

</ul>
</li>

</ul></li>
</ul><SCRIPT type="text/javascript">
fold_document();
</SCRIPT>
</body>
</html>
